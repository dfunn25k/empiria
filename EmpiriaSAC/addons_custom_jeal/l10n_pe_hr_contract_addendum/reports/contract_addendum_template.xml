<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="0">
        <template id="report_report_contract_addendum_header">
            <div class="row p-0">
                <div class="col-12">
                    <div class="fw-bold text-decoration-underline text-center">
                        <span t-esc="o.template_id.name"/>
                    </div>

                    <div class="mt-3">
                        <t t-foreach="header_lines" t-as="line">
                            <p>
                                <span t-raw="o._get_rendered_html(line.content, aliases_dict)"/>
                            </p>
                        </t>
                    </div>
                </div>
            </div>
        </template>

        <template id="report_report_contract_addendum_content">
            <div class="row p-0 mt-3">
                <div class="col-12">
                    <t t-foreach="content_lines" t-as="line">
                        <!-- 
                        <t t-if="'[DESCRIPCION_JORNADA]' in content_line">
                            <t t-if="o.jornada_trabajo_id.name == '6*1 HORARIO REGULAR'">
                                <t t-set="jornada_desc" t-value="'laborará 6 días consecutivos seguidos de 1 día de descanso continuo'"/>
                            </t>
                            <t t-elif="o.jornada_trabajo_id.name == '20*10'">
                                <t t-set="jornada_desc" t-value="'laborará 20 días consecutivos seguidos de 10 días de descanso continuo'"/>
                            </t>
                            <t t-elif="o.jornada_trabajo_id.name == '5*2 Lunes - Viernes'">
                                <t t-set="jornada_desc" t-value="'laborará 5 días consecutivos seguidos de 2 días de descanso continuo'"/>
                            </t>
                            <t t-else="">
                                <t t-set="jornada_desc" t-value="'según el horario establecido por EL EMPLEADOR.'"/>
                            </t>
                            <t t-set="content_line" t-value="content_line.replace('[DESCRIPCION_JORNADA]', jornada_desc)"/>
                        </t> -->

                        <div class="fw-bold">
                            <p>
                                <span class="text-decoration-underline" t-esc="line.clausula_id.name"/>
                                <span>:</span>
                                <span t-esc="line.title"/>
                            </p>
                        </div>

                        <div>
                            <p>
                                <span t-raw="o._get_rendered_html(line.content, aliases_dict)"/>
                            </p>
                        </div>
                    </t>
                </div>
            </div>
        </template>

        <template id="report_report_contract_addendum_footer">
            <div class="row p-0 mt-5">
                <div class="col-12 mt-5 text-center">
                    <t t-foreach="footer_lines" t-as="line">
                        <div>
                            <p>
                                <span t-raw="o._get_rendered_html(line.content, aliases_dict)"/>
                            </p>
                        </div>
                    </t>
                </div>
            </div>
        </template>

        <template id="report_addendum_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <div class="page" style="margin-left: -4mm; margin-right: -4mm;">
                            <div style="font-family: 'Cambria', serif; font-size: 10pt; line-height: 1.0; text-align: justify;">

                                <t t-set="aliases_dict" t-value="dict(request.env['hr.document.placeholder'].search([]).mapped(lambda p: (p.name, p.expression)))"/>

                                <t t-set="template_lines" t-value="o.template_id.line_ids"/>

                                <t t-set="header_lines" t-value="template_lines.filtered(lambda line: line.display_type == 'header')"/>
                                <t t-set="content_lines" t-value="template_lines.filtered(lambda line: line.display_type == 'content')"/>
                                <t t-set="footer_lines" t-value="template_lines.filtered(lambda line: line.display_type == 'footer')"/>


                                <t t-call="l10n_pe_hr_contract_addendum.report_report_contract_addendum_header"/>
                                <t t-call="l10n_pe_hr_contract_addendum.report_report_contract_addendum_content"/>
                                <t t-call="l10n_pe_hr_contract_addendum.report_report_contract_addendum_footer"/>

                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>
