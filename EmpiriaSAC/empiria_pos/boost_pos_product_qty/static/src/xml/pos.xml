<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">
    <t t-inherit="point_of_sale.ProductItem" t-inherit-mode="extension" >
        <xpath expr="//span[hasclass('price-tag')]" position="after">
            <t t-if="props.product.type == 'product'">
                <span t-attf-class="qty-tag {{props.product.qty_available lte 0 ? 'not-available':''}}">
                    <t t-esc="props.product.qty_available"/>
                </span>
            </t>
        </xpath>
    </t>
    <t t-inherit="point_of_sale.Orderline" t-inherit-mode="extension" >
        <xpath expr="//li[hasclass('info')]/em" position="after">
            <t t-if="props.line.get_product().type == 'product'" name="line_qty_show">
                <t t-set='qty_available' t-value='props.line.get_product().qty_available'/>
                (of <span t-attf-class="qty-info {{ qty_available lt props.line.quantity  ? 'not-available':''}}"><t t-esc="qty_available"/></span>)
            </t>
        </xpath>
    </t>
</templates>



